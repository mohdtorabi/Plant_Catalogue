{"ast":null,"code":"import _objectSpread from\"/Users/torabi97/Desktop/post-bootcamp/plant_catalogue/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/torabi97/Desktop/post-bootcamp/plant_catalogue/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/torabi97/Desktop/post-bootcamp/plant_catalogue/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/torabi97/Desktop/post-bootcamp/plant_catalogue/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import Modal from\"@material-ui/core/Modal\";import Backdrop from\"@material-ui/core/Backdrop\";import Fade from\"@material-ui/core/Fade\";import TextField from\"@material-ui/core/TextField\";import axios from\"axios\";import Button from'@material-ui/core/Button';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{modal:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},paper:{backgroundColor:theme.palette.background.paper,border:\"2px solid #000\",boxShadow:theme.shadows[5],padding:theme.spacing(2,4,3)}};});export default function EditPlant(_ref){var plant=_ref.plant;var classes=useStyles();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState({name:plant.name,description:plant.description,family:plant.family,kingdom:plant.kingdom,species:plant.species}),_useState4=_slicedToArray(_useState3,2),plantDetail=_useState4[0],setPlantDetail=_useState4[1];var handleOpen=function handleOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var updatePlantDetail=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var body,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_context.prev=1;body={name:plantDetail.name,description:plantDetail.description,family:plantDetail.family,kingdom:plantDetail.kingdom,species:plantDetail.species};_context.next=5;return axios(\"http://localhost:5000/plants/\".concat(plant.plant_id),{method:\"PUT\",url:'/',headers:{\"Content-Type\":\"application/json\"},data:JSON.stringify(body)});case 5:response=_context.sent;window.location=\"/\";_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(\"errorrr\");case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function updatePlantDetail(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",type:\"button\",onClick:handleOpen,children:\"Edit\"}),/*#__PURE__*/_jsx(Modal,{\"aria-labelledby\":\"transition-modal-title\",\"aria-describedby\":\"transition-modal-description\",className:classes.modal,open:open,onClose:handleClose,closeAfterTransition:true,BackdropComponent:Backdrop,BackdropProps:{timeout:500},children:/*#__PURE__*/_jsx(Fade,{in:open,style:{backgroundColor:\"white\",color:\"black\",padding:\"10px\"},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Plant Porfolio\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.root,noValidate:true,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(TextField,{id:\"standard-error-helper-text\",label:\"Plant Name\",type:\"text\",value:plantDetail.name,onChange:function onChange(e){return setPlantDetail(function(prev){return _objectSpread(_objectSpread({},prev),{},{name:e.target.value});});}}),/*#__PURE__*/_jsx(TextField,{id:\"standard-error-helper-text\",label:\"Plant Description\",type:\"text\",value:plantDetail.description,onChange:function onChange(e){return setPlantDetail(function(prev){return _objectSpread(_objectSpread({},prev),{},{description:e.target.value});});}}),/*#__PURE__*/_jsx(TextField,{id:\"standard-error-helper-text\",label:\"Plant Family\",type:\"url\",value:plantDetail.family,onChange:function onChange(e){return setPlantDetail(function(prev){return _objectSpread(_objectSpread({},prev),{},{family:e.target.value});});}}),/*#__PURE__*/_jsx(TextField,{id:\"standard-error-helper-text\",label:\"Plant Kingdom\",type:\"url\",value:plantDetail.kingdom,onChange:function onChange(e){return setPlantDetail(function(prev){return _objectSpread(_objectSpread({},prev),{},{kingdom:e.target.value});});}}),/*#__PURE__*/_jsx(TextField,{id:\"standard-error-helper-text\",label:\"Plant Species\",type:\"url\",value:plantDetail.species,onChange:function onChange(e){return setPlantDetail(function(prev){return _objectSpread(_objectSpread({},prev),{},{species:e.target.value});});}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:function onClick(e){return updatePlantDetail(e);},children:\"Edit Plant\"})]})]})})})]});}","map":{"version":3,"sources":["/Users/torabi97/Desktop/post-bootcamp/plant_catalogue/client/src/components/EditPlant.js"],"names":["React","useState","makeStyles","Modal","Backdrop","Fade","TextField","axios","Button","useStyles","theme","modal","display","alignItems","justifyContent","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","EditPlant","plant","classes","open","setOpen","name","description","family","kingdom","species","plantDetail","setPlantDetail","handleOpen","handleClose","updatePlantDetail","e","preventDefault","body","plant_id","method","url","headers","data","JSON","stringify","response","window","location","console","log","timeout","color","root","prev","target","value"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport TextField from \"@material-ui/core/TextField\";\nimport axios from \"axios\";\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles((theme) => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nexport default function EditPlant({plant}) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  const [plantDetail, setPlantDetail] = useState({\n    name: plant.name,\n    description: plant.description,\n    family: plant.family,\n    kingdom: plant.kingdom,\n    species: plant.species,\n  })\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const updatePlantDetail = async (e) => {\n    e.preventDefault()\n    try {\n      const body = {\n        name: plantDetail.name, \n        description: plantDetail.description, \n        family: plantDetail.family,\n        kingdom: plantDetail.kingdom,\n        species: plantDetail.species,\n      };\n      const response = await axios(`http://localhost:5000/plants/${plant.plant_id}`, {\n        method: \"PUT\",\n        url: '/',\n        headers: {\"Content-Type\": \"application/json\"},\n        data: JSON.stringify(body)\n      });\n      window.location = \"/\";\n    } catch {\n      console.log(\"errorrr\");\n    }\n  }\n\n  return (\n    <div>\n      <Button variant=\"contained\" color=\"primary\" type=\"button\" onClick={handleOpen}>\n        Edit\n      </Button>\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        onClose={handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500,\n        }}\n      >\n        <Fade in={open} style={{backgroundColor:\"white\", color:\"black\", padding:\"10px\"}}>\n          <div>\n            <h1>Edit Plant Porfolio</h1>\n            <form\n              className={classes.root}\n              noValidate\n              autoComplete=\"off\"\n            >\n              <TextField\n                id=\"standard-error-helper-text\"\n                label=\"Plant Name\"\n                type=\"text\"\n                value={plantDetail.name}\n                onChange={(e) =>\n                  setPlantDetail((prev) => ({\n                    ...prev,\n                    name: e.target.value,\n                  }))\n                }\n              />\n              <TextField\n                id=\"standard-error-helper-text\"\n                label=\"Plant Description\"\n                type=\"text\"\n                value={plantDetail.description}\n                onChange={(e) =>\n                  setPlantDetail((prev) => ({\n                    ...prev,\n                    description: e.target.value,\n                  }))\n                }\n              />\n              <TextField\n                id=\"standard-error-helper-text\"\n                label=\"Plant Family\"\n                type=\"url\"\n                value={plantDetail.family}\n                onChange={(e) =>\n                  setPlantDetail((prev) => ({\n                    ...prev,\n                    family: e.target.value,\n                  }))\n                }\n              />\n              <TextField\n                id=\"standard-error-helper-text\"\n                label=\"Plant Kingdom\"\n                type=\"url\"\n                value={plantDetail.kingdom}\n                onChange={(e) =>\n                  setPlantDetail((prev) => ({\n                    ...prev,\n                    kingdom: e.target.value,\n                  }))\n                }\n              />\n              <TextField\n                id=\"standard-error-helper-text\"\n                label=\"Plant Species\"\n                type=\"url\"\n                value={plantDetail.species}\n                onChange={(e) =>\n                  setPlantDetail((prev) => ({\n                    ...prev,\n                    species: e.target.value,\n                  }))\n                }\n              />\n              <Button variant=\"contained\" color=\"primary\" onClick={e => updatePlantDetail(e)}>Edit Plant</Button>\n            </form>\n          </div>\n        </Fade>\n      </Modal>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}